@mixin switch-input {
  input {
    display: none;
  }
}

@mixin switch-icon {
  /* stylelint-disable-next-line selector-class-pattern */
  input + .neo-switch__icon {
    cursor: pointer;
    display: block;
    left: 0;
    position: absolute;

    @include rtl-selector {
      left: auto;
      right: 0;
    }

    &::before,
    &::after {
      border-radius: $switch-border-radius;
      content: "";
      position: absolute;
      transition: $switch-transition;
    }

    &::before {
      background-color: $switch-inactive-color;
      height: $switch-height;
      width: $switch-width;
    }

    &::after {
      background-color: $neo-white;
      height: $switch-knob-size;
      left: $switch-knob-indent;
      top: $switch-knob-indent;
      transform: translate(0, 0);
      width: $switch-knob-size;

      @include rtl-selector {
        left: auto;
        right: $switch-knob-indent;
      }
    }
  }
}

@mixin neo-switch--checked {
  /* stylelint-disable-next-line selector-class-pattern */
  input:checked + .neo-switch__icon {
    &::before {
      background-color: $switch-active-color;
    }

    &::after {
      transform: translate($switch-translate-distance, 0);

      @include rtl-selector {
        transform: translate(-$switch-translate-distance, 0);
      }
    }
  }
}

@mixin neo-switch--disabled {
  &--disabled,
  input:disabled + &__icon {
    cursor: not-allowed;
    opacity: $switch-disabled-opacity;
  }

  &:focus input:disabled + &__icon {
    &::before {
      box-shadow: none;
    }
  }
}

.neo-switch {
  display: inline-block;
  height: $switch-height;
  line-height: 1.5;
  min-width: $switch-width;
  outline: $switch-outline;
  padding-left: $switch-width + $input-padding-x;
  position: relative;

  @include rtl-selector {
    padding-left: 0;
    padding-right: $switch-width + $input-padding-x;
  }

  &:focus .neo-switch__icon {
    &::before {
      box-shadow: $input-focus-shadow;
    }
  }

  @include switch-input;
  @include switch-icon;
  @include neo-switch--checked;
  @include neo-switch--disabled;
}
