%tooltip {
  animation: show-element $tooltip-animation-duration;
  background: $tooltip-background;
  border-radius: $tooltip-border-radius;
  color: $tooltip-color;
  content: attr(data-tooltip);
  display: none;
  font-size: $tooltip-text-size;
  font-weight: normal;
  line-height: normal;
  max-width: $tooltip-width;
  overflow: hidden;
  padding: $tooltip-padding;
  pointer-events: none;
  text-align: center;
  text-indent: 0;
  text-overflow: ellipsis;
  white-space: nowrap;
  word-break: keep-all;
  z-index: $tooltip-z;
}

@mixin tooltip {
  &::after {
    @extend %tooltip;
    margin-bottom: auto;
    margin-top: -$tooltip-offset;
    transform: translate(-50%, -100%);
    @include position(absolute, 0, auto, auto, 50%);
  }
}

@mixin tooltip-wrapper {
  .neo-tooltip {
    line-height: 0;
    position: static;

    &::after {
      display: block;
    }
  }
}

@mixin tooltip-multiline {
  &.neo-tooltip--multiline {
    &::after {
      text-overflow: clip;
      white-space: pre-line;
      width: max-content;
      word-break: keep-all;
      word-wrap: normal;
    }
  }
}

@mixin tooltip-color {
  @each $name, $color in $neo-state-colors {
    &.neo-tooltip--#{$name} {
      &::after {
        background: $color;
        color: $neo-white;
      }
    }
  }
}

@mixin tooltip-right-position {
  &.neo-tooltip--right::after {
    transform: translate(100%, 50%);
    @include position(absolute, auto, -$tooltip-offset, 50%, auto);
  }
}
@mixin tooltip-bottom-position {
  &.neo-tooltip--bottom::after {
    transform: translate(-50%, 100%);
    @include position(absolute, auto, auto, -$tooltip-offset, 50%);
  }
}
@mixin tooltip-left-position {
  &.neo-tooltip--left::after {
    transform: translate(-100%, 50%);
    @include position(absolute, auto, auto, 50%, -$tooltip-offset);
  }
}

// Uses for normal elements (that doesnâ€™t have styles on after and before)
.neo-tooltip[data-tooltip]:not([data-tooltip=""]) {
  position: relative;

  &:hover::after {
    display: block;
  }

  @include tooltip;
  // Makes tooltip multilined
  @include tooltip-multiline;

  // Changes color of tooltip
  @include tooltip-color;
  @include tooltip-right-position;
  @include tooltip-bottom-position;
  @include tooltip-left-position;
}

.neo-tooltip-wrapper {
  position: relative;

  &:hover {
    @include tooltip-wrapper;
  }
}
